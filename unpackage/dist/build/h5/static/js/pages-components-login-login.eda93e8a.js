(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-components-login-login"],{"51cc":function(e,t,i){"use strict";i.r(t);var n=i("a8b3"),a=i("9634");for(var r in a)"default"!==r&&function(e){i.d(t,e,function(){return a[e]})}(r);i("5fb1");var o=i("2877"),s=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"6e9a9194",null);t["default"]=s.exports},"5fb1":function(e,t,i){"use strict";var n=i("ef7f"),a=i.n(n);a.a},9634:function(e,t,i){"use strict";i.r(t);var n=i("a81b"),a=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,function(){return n[e]})}(r);t["default"]=a.a},a81b:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("d4ee"),a={data:function(){return{username:"",password:""}},created:function(){(0,n.getToken)()},methods:{register:function(){uni.redirectTo({url:"../register/register"})},login:function(){var e=this.username,t=this.password;(0,n.request)({url:"index.php?s=/wap/login/index",method:"POST",data:{username:e,password:t}}).then(function(e){if(console.log(e),e.data.retval.code>0){if(null!=e.data.token){uni.showToast({title:"登录成功",icon:"none"});var t=(new Date).getTime()+604800,i=Array(e.data.token,t);uni.setStorage({key:"token",data:i}),1==getCurrentPages().length?uni.reLaunch({url:"/pages/mine/mine"}):uni.navigateBack({delta:1})}}else uni.showToast({title:"用户名与密码不匹配",icon:"none"})})}}};t.default=a},a8b3:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticClass:"register"},[i("v-uni-view",{staticClass:"logo"},[i("v-uni-image",{attrs:{src:"/static/images/user-logo.png",mode:""}})],1),i("v-uni-view",{staticClass:"choose"},[i("v-uni-view"),i("v-uni-view",[e._v("登录")]),i("v-uni-view",{on:{click:function(t){t=e.$handleEvent(t),e.register()}}},[e._v("注册")])],1),i("v-uni-view",{staticClass:"form-list"},[i("v-uni-view",{staticClass:"form-item"},[i("v-uni-image",{attrs:{src:"/static/images/arrow-user.png",mode:""}}),i("v-uni-input",{attrs:{type:"text",value:"",placeholder:"请输入用户名","placeholder-class":"placeholder"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),i("v-uni-view",{staticClass:"form-item"},[i("v-uni-image",{attrs:{src:"/static/images/arrow-password.png",mode:""}}),i("v-uni-input",{attrs:{type:"text",value:"",placeholder:"请输入密码","placeholder-class":"placeholder"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),i("v-uni-view",{staticClass:"btn"},[i("v-uni-view",{staticClass:"login"},[i("v-uni-button",{on:{click:function(t){t=e.$handleEvent(t),e.login()}}},[e._v("马上登录")])],1),i("v-uni-view",{staticClass:"register"},[i("v-uni-button",[e._v("微信登录")])],1)],1)],1)],1)},a=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return a})},d4ee:function(e,t,i){"use strict";var n=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.request=o,t.getToken=u;var a=n(i("795b")),r="http://sh.086soft.cn/";function o(e){return new a.default(function(t,i){var n=s();-1!==n&&void 0!==e.data&&(e.data["token"]=n),uni.request({url:r+e.url,method:e.method||"GET",data:e.data||{token:n},header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){200!=e.statusCode&&uni.showToast({title:"数据加载失败",icon:"none"}),t(e)},fail:function(e){i(e.errMsg)}})})}function s(){var e;(new Date).getTime();return uni.getStorage({key:"token",fail:function(t){e=u()},success:function(t){var i=t.data,n=(new Date).getTime();e=i[1]<n?u():i[0]}}),e}function u(){var e="";return uni.request({url:r+"index.php?s=wap/captchac/getUserToken",header:{"content-type":"application/x-www-form-urlencoded"}}).then(function(t){e=t[1].data.token;var i=(new Date).getTime()+864e5;uni.setStorage({key:"token",data:Array(e,i)})}),e}},ef7f:function(e,t,i){var n=i("fcb0");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("1e731954",n,!0,{sourceMap:!1,shadowMode:!1})},fcb0:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-6e9a9194]{background:#f4f4f4}.register[data-v-6e9a9194]{-webkit-box-sizing:border-box;box-sizing:border-box}.register .logo[data-v-6e9a9194]{width:%?220?%;height:%?170?%;margin:0 auto;padding-top:%?80?%}.register .logo uni-image[data-v-6e9a9194]{width:100%;height:100%}.register .choose[data-v-6e9a9194]{-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.register .choose uni-view[data-v-6e9a9194]{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;text-align:center}.register .choose uni-view[data-v-6e9a9194]:nth-child(3){color:#5e5a5a;font-size:%?40?%}.register .choose uni-view[data-v-6e9a9194]:nth-child(2){font-size:%?50?%;color:#c8c7cc}.register .form-list[data-v-6e9a9194]{-webkit-box-sizing:border-box;box-sizing:border-box;margin-top:%?80?%}.register .form-list .form-item[data-v-6e9a9194]{-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 10%;height:%?100?%;line-height:%?100?%}.register .form-list .form-item uni-image[data-v-6e9a9194]{width:%?50?%;height:%?50?%;margin-right:%?24?%}.register .form-list .form-item uni-input[data-v-6e9a9194]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-sizing:border-box;box-sizing:border-box;border-bottom:1px solid #c8c7cc}.register .btn[data-v-6e9a9194]{position:absolute;bottom:%?110?%;left:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.register .btn .login[data-v-6e9a9194],.register .btn .register[data-v-6e9a9194]{-webkit-box-sizing:border-box;box-sizing:border-box;height:%?90?%}.register .btn .login uni-button[data-v-6e9a9194],.register .btn .register uni-button[data-v-6e9a9194]{width:60%;height:100%;text-align:center;font-size:%?32?%;color:#c8c7cc;border-radius:%?60?%}.register .btn .login[data-v-6e9a9194]{margin-bottom:%?24?%}.register .btn .login uni-button[data-v-6e9a9194]{-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #fff}.register .btn .login uni-button[data-v-6e9a9194]:after{border:none}.register .btn .register uni-button[data-v-6e9a9194]{background:#25b340;color:#fff}.placeholder[data-v-6e9a9194]{font-size:%?24?%;color:#c8c7cc}body.?%PAGE?%[data-v-6e9a9194]{background:#f4f4f4}',""])}}]);